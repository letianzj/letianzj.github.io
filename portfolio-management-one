<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Portfolio Management,Portfolio Optimization,Risk Allocation" />










<meta name="description" content="IntroductionModern Portfolio Theory (MPT) studies the tradeoff between return and risk. The risk of a portfolio is determined by not only the variance but also the correlations among assets. For a giv">
<meta name="keywords" content="Portfolio Management,Portfolio Optimization,Risk Allocation">
<meta property="og:type" content="article">
<meta property="og:title" content="Portfolio Management One -- Optimization Basics">
<meta property="og:url" content="https://letianzj.github.io/portfolio-management-one">
<meta property="og:site_name" content="Quant Trading and Portfolio Management">
<meta property="og:description" content="IntroductionModern Portfolio Theory (MPT) studies the tradeoff between return and risk. The risk of a portfolio is determined by not only the variance but also the correlations among assets. For a giv">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://letianzj.github.io/portfolio-management-one/risk_return_tradeoff.png">
<meta property="og:image" content="https://letianzj.github.io/portfolio-management-one/efficient_frontier.png">
<meta property="og:image" content="https://letianzj.github.io/portfolio-management-one/allocation_transition.png">
<meta property="og:updated_time" content="2018-10-16T00:30:50.683Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Portfolio Management One -- Optimization Basics">
<meta name="twitter:description" content="IntroductionModern Portfolio Theory (MPT) studies the tradeoff between return and risk. The risk of a portfolio is determined by not only the variance but also the correlations among assets. For a giv">
<meta name="twitter:image" content="https://letianzj.github.io/portfolio-management-one/risk_return_tradeoff.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://letianzj.github.io/portfolio-management-one"/>





  <title>Portfolio Management One -- Optimization Basics | Portfolio Management,Portfolio Optimization,Risk Allocation | Quant Trading and Portfolio Management</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-109341958-2', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Quant Trading and Portfolio Management</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">Statistics, Time Series, Strategies, Machine Learning, Deep Learning</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://letianzj.github.io/portfolio-management-one">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Letian Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Quant Trading and Portfolio Management">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Portfolio Management One -- Optimization Basics</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-10-22T22:00:00-04:00">
                2017-10-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Systematic-Investment/" itemprop="url" rel="index">
                    <span itemprop="name">Systematic Investment</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Systematic-Investment/Portfolio-Management/" itemprop="url" rel="index">
                    <span itemprop="name">Portfolio Management</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/portfolio-management-one#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="portfolio-management-one" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          
		  
		  

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>Modern Portfolio Theory (MPT) studies the tradeoff between return and risk. The risk of a portfolio is determined by not only the variance but also the correlations among assets. For a given risk, a rational investor would prefer an allocation with a higher expected returns; On the other hand, for a given return, he or she would prefer the portfolio with a lower risk level. This is a typical dual optimization problem. </p>
<p>This post examines the classic mean-variance portfolio optimization from computational mathematics’ perspective, with mathematical formulas and programming codes. We will use real world stock data from Quandl.</p>
<a id="more"></a>
<p>Assume we have $n$ assets and their expected return column vector is $\mu$ and their covariance matrix is $\Sigma$. Then the return and variance of a portfolio that invests in these n assets with weight $w$ are, respectively,</p>
<p>$$<br>\begin{matrix}<br>\mu_p &amp;=&amp; w^T\mu \\<br>\sigma_p^2 &amp;=&amp; w^T\Sigma w          \tag{1.1}<br>\end{matrix}<br>$$</p>
<p>In addition, the covariance between two portfolios of respective weights $w_1$ and $w_2$, is</p>
<p>$$<br>\rho_{12}=cov(w_1^T\mu,w_2^T\mu)=w_1^T\Sigma w_2            \tag{1.2}<br>$$</p>
<p>Let’s illustrate this with some codes. First let’s download the historical data.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">assets = [<span class="string">'AAPL'</span>,       <span class="comment"># Apple</span></span><br><span class="line">          <span class="string">'KO'</span>,         <span class="comment"># Coca-Cola</span></span><br><span class="line">          <span class="string">'DIS'</span>,        <span class="comment"># Disney</span></span><br><span class="line">          <span class="string">'XOM'</span>,        <span class="comment"># Exxon Mobil</span></span><br><span class="line">          <span class="string">'JPM'</span>,        <span class="comment"># JPMorgan Chase</span></span><br><span class="line">          <span class="string">'MCD'</span>,        <span class="comment"># McDonald's</span></span><br><span class="line">          <span class="string">'WMT'</span>]         <span class="comment"># Walmart</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># download historical data from quandl</span></span><br><span class="line">hist_data = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> asset <span class="keyword">in</span> assets:</span><br><span class="line">    data = quandl.get(<span class="string">'wiki/'</span>+asset, start_date=<span class="string">'2015-01-01'</span>, end_date=<span class="string">'2017-12-31'</span>, authtoken=<span class="string">'ay68s2CUzKbVuy8GAqxj'</span>)</span><br><span class="line">    hist_data[asset] = data[<span class="string">'Adj. Close'</span>]</span><br><span class="line">hist_data = pd.concat(hist_data, axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># calculate historical log returns</span></span><br><span class="line">hist_return = np.log(hist_data / hist_data.shift())</span><br><span class="line">hist_return = hist_return.dropna()</span><br><span class="line"></span><br><span class="line"><span class="comment"># find historical mean, covriance, and correlation</span></span><br><span class="line">hist_mean = hist_return.mean(axis=<span class="number">0</span>).to_frame()</span><br><span class="line">hist_mean.columns = [<span class="string">'mu'</span>]</span><br><span class="line">hist_cov = hist_return.cov()</span><br><span class="line">hist_corr = hist_return.corr()</span><br><span class="line">print(hist_mean.transpose())</span><br><span class="line">print(hist_cov)</span><br><span class="line">print(hist_corr)</span><br></pre></td></tr></table></figure>
<p>Here the historical window is set to be between 2015/01/01 and 2017/12/31 for the results to be reproducible. The return and correlation in this time range are as follows.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># average daily return</span></span><br><span class="line">        AAPL       DIS       JPM       KO       MCD       WMT       XOM</span><br><span class="line">mu  <span class="number">0.000619</span>  <span class="number">0.000237</span>  <span class="number">0.000811</span>  <span class="number">0.00023</span>  <span class="number">0.000918</span>  <span class="number">0.000269</span>  <span class="number">0.000007</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># daily return covariance</span></span><br><span class="line">          AAPL       DIS       JPM        KO       MCD       WMT       XOM</span><br><span class="line">AAPL  <span class="number">0.000208</span>  <span class="number">0.000055</span>  <span class="number">0.000076</span>  <span class="number">0.000032</span>  <span class="number">0.000044</span>  <span class="number">0.000038</span>  <span class="number">0.000051</span></span><br><span class="line">DIS   <span class="number">0.000055</span>  <span class="number">0.000138</span>  <span class="number">0.000072</span>  <span class="number">0.000030</span>  <span class="number">0.000032</span>  <span class="number">0.000031</span>  <span class="number">0.000048</span></span><br><span class="line">JPM   <span class="number">0.000076</span>  <span class="number">0.000072</span>  <span class="number">0.000181</span>  <span class="number">0.000032</span>  <span class="number">0.000052</span>  <span class="number">0.000038</span>  <span class="number">0.000080</span></span><br><span class="line">KO    <span class="number">0.000032</span>  <span class="number">0.000030</span>  <span class="number">0.000032</span>  <span class="number">0.000065</span>  <span class="number">0.000034</span>  <span class="number">0.000031</span>  <span class="number">0.000033</span></span><br><span class="line">MCD   <span class="number">0.000044</span>  <span class="number">0.000032</span>  <span class="number">0.000052</span>  <span class="number">0.000034</span>  <span class="number">0.000102</span>  <span class="number">0.000032</span>  <span class="number">0.000036</span></span><br><span class="line">WMT   <span class="number">0.000038</span>  <span class="number">0.000031</span>  <span class="number">0.000038</span>  <span class="number">0.000031</span>  <span class="number">0.000032</span>  <span class="number">0.000150</span>  <span class="number">0.000029</span></span><br><span class="line">XOM   <span class="number">0.000051</span>  <span class="number">0.000048</span>  <span class="number">0.000080</span>  <span class="number">0.000033</span>  <span class="number">0.000036</span>  <span class="number">0.000029</span>  <span class="number">0.000132</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># daily return correlation</span></span><br><span class="line">          AAPL       DIS       JPM        KO       MCD       WMT       XOM</span><br><span class="line">AAPL  <span class="number">1.000000</span>  <span class="number">0.325700</span>  <span class="number">0.390836</span>  <span class="number">0.275779</span>  <span class="number">0.303736</span>  <span class="number">0.213516</span>  <span class="number">0.309552</span></span><br><span class="line">DIS   <span class="number">0.325700</span>  <span class="number">1.000000</span>  <span class="number">0.456748</span>  <span class="number">0.317669</span>  <span class="number">0.273237</span>  <span class="number">0.218224</span>  <span class="number">0.351940</span></span><br><span class="line">JPM   <span class="number">0.390836</span>  <span class="number">0.456748</span>  <span class="number">1.000000</span>  <span class="number">0.293271</span>  <span class="number">0.381535</span>  <span class="number">0.230407</span>  <span class="number">0.516903</span></span><br><span class="line">KO    <span class="number">0.275779</span>  <span class="number">0.317669</span>  <span class="number">0.293271</span>  <span class="number">1.000000</span>  <span class="number">0.423076</span>  <span class="number">0.309700</span>  <span class="number">0.357156</span></span><br><span class="line">MCD   <span class="number">0.303736</span>  <span class="number">0.273237</span>  <span class="number">0.381535</span>  <span class="number">0.423076</span>  <span class="number">1.000000</span>  <span class="number">0.259506</span>  <span class="number">0.311606</span></span><br><span class="line">WMT   <span class="number">0.213516</span>  <span class="number">0.218224</span>  <span class="number">0.230407</span>  <span class="number">0.309700</span>  <span class="number">0.259506</span>  <span class="number">1.000000</span>  <span class="number">0.203070</span></span><br><span class="line">XOM   <span class="number">0.309552</span>  <span class="number">0.351940</span>  <span class="number">0.516903</span>  <span class="number">0.357156</span>  <span class="number">0.311606</span>  <span class="number">0.203070</span>  <span class="number">1.000000</span></span><br></pre></td></tr></table></figure>
<p>Now let’s use Monte Carlo simulation to contruct 5,000 portfolios with random generated weights $w$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># construct random portfolios</span></span><br><span class="line">n_portfolios = <span class="number">5000</span></span><br><span class="line"><span class="comment">#set up array to hold results</span></span><br><span class="line">port_returns = np.zeros(n_portfolios)</span><br><span class="line">port_stdevs = np.zeros(n_portfolios)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n_portfolios):</span><br><span class="line">    w = np.random.rand(len(assets))        <span class="comment"># random weights</span></span><br><span class="line">    w = w / sum(w)                         <span class="comment"># weights sum to 1</span></span><br><span class="line">    port_return = np.dot(w.T, hist_mean.as_matrix()) * <span class="number">250</span>         <span class="comment"># annualize; 250 business days</span></span><br><span class="line">    port_stdev = np.sqrt(np.dot(w.T, np.dot(hist_cov, w))) * np.sqrt(<span class="number">250</span>)  <span class="comment"># annualize; 250 business days</span></span><br><span class="line">    port_returns[i] = port_return</span><br><span class="line">    port_stdevs[i] = port_stdev</span><br><span class="line"></span><br><span class="line">plt.plot(port_stdevs, port_returns, <span class="string">'o'</span>, markersize=<span class="number">6</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Expected Volatility'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Expected Return'</span>)</span><br><span class="line">plt.title(<span class="string">'Return and Standard Deviation of Randomly Generated Portfolios'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/portfolio-management-one/risk_return_tradeoff.png" title="Risk Return Tradeoff">
<p>As you can see, asset allocation makes a difference. Some portfolios are superior to others; achieving higher returns at the cost of lower risks. This is where the professional portfolio managers can add value to. So how to choose a good allocation? We will explore some basic solutions in the following sections.</p>
<h2 id="Global-Minimum-Variance-GMV"><a href="#Global-Minimum-Variance-GMV" class="headerlink" title="Global Minimum Variance (GMV)"></a>Global Minimum Variance (GMV)</h2><p>Of all the portfolios in figure 1, Global Minimum Variance (GMV) is the far left one. It is the lowest risk one can achieve by holding the seven stocks above. Mathematically, to find the Global Minimum Variance Portfolio, we need to solve</p>
<p>$$<br>\begin{matrix}<br>\min &amp; \sigma^2=w^T\Sigma w \\<br>s.t. &amp; w^T\mathbf{1} = 1<br>\end{matrix}            \tag{2.1}<br>$$</p>
<p>The Lagrangian for this problem is</p>
<p>$$<br>L(w,\lambda)=w^T\Sigma w+\lambda(w^T\mathbf{1}-1)       \tag{2.2}<br>$$</p>
<p>and its first order condition is</p>
<p>$$<br>\begin{matrix}<br>\frac{\partial L}{\partial w} &amp;=&amp;w^T(\Sigma +\Sigma^T)+\lambda \mathbf{1}^T &amp;=&amp; 0 \\<br>\frac{\partial L}{\partial \lambda} &amp;=&amp; w^T\mathbf{1} -1 &amp;=&amp; 0<br>\end{matrix}            \tag{2.3}<br>$$</p>
<p>To solve this system of two equations, first we solve for w from the first equation</p>
<p>$$<br>w = -\frac{1}{2}\lambda\Sigma^{-1}\mathbf{1}            \tag{2.4}<br>$$</p>
<p>Then we put it into the second equation to solve $\lambda$, </p>
<p>$$<br>\begin{matrix}<br>w^T\mathbf{1}&amp;=&amp;(-\frac{1}{2}\lambda \mathbf{1}^T\Sigma^{-1})\mathbf{1}=1 \\<br> &amp;\Rightarrow&amp; \lambda = -\frac{2}{\mathbf{1}^T\Sigma^{-1}\mathbf{1}}<br>\end{matrix}                \tag{2.5}<br>$$</p>
<p>Finally substitute $\lambda$ back to solve for the optimal $w$</p>
<p>$$<br>w^*=\frac{\Sigma^{-1}\mathbf{1}}{\mathbf{1}^T\Sigma^{-1}\mathbf{1}}         \tag{2.6}<br>$$</p>
<p>The following code snippet provides the close form solution via (2.6)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global Minimum Variance (GMV) -- closed form</span></span><br><span class="line">hist_cov_inv = - np.linalg.inv(hist_cov)</span><br><span class="line">one_vec = np.ones(len(assets))</span><br><span class="line">w_gmv = np.dot(hist_cov_inv, one_vec) / (np.dot(np.transpose(one_vec), np.dot(hist_cov_inv, one_vec)))</span><br><span class="line">w_gmv_df = pd.DataFrame(data = w_gmv).transpose()</span><br><span class="line">w_gmv_df.columns = assets</span><br><span class="line">stdev_gmv = np.sqrt(np.dot(w_gmv.T, np.dot(hist_cov, w_gmv))) * np.sqrt(<span class="number">250</span>)</span><br><span class="line">print(w_gmv_df)</span><br><span class="line">print(stdev_gmv)</span><br></pre></td></tr></table></figure></p>
<p>Alternatively, we can use Python quadratic solver to solve (2.1) numerically. It should yield the same answer. Here we use the Python cvxopt package. For additional information, please refer to their <a href="http://cvxopt.org/userguide/coneprog.html#cvxopt.solvers.qp" target="_blank" rel="noopener">online documentation</a> and <a href="http://cvxopt.org/examples/book/portfolio.html" target="_blank" rel="noopener">online example</a>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global Minimum Variance (GMV) -- numerical</span></span><br><span class="line">P = matrix(hist_cov.as_matrix())</span><br><span class="line">q = matrix(np.zeros((len(assets), <span class="number">1</span>)))</span><br><span class="line">A = matrix(<span class="number">1.0</span>, (<span class="number">1</span>, len(assets)))</span><br><span class="line">b = matrix(<span class="number">1.0</span>)</span><br><span class="line">w_gmv_v2 = np.array(solvers.qp(P, q, A=A, b=b)[<span class="string">'x'</span>])</span><br><span class="line">w_gmv_df_v2 = pd.DataFrame(w_gmv_v2).transpose()</span><br><span class="line">w_gmv_df_v2.columns = assets</span><br><span class="line">stdev_gmv_v2 = np.sqrt(np.dot(w_gmv_v2.T, np.dot(hist_cov, w_gmv_v2))) * np.sqrt(<span class="number">250</span>)</span><br><span class="line">print(w_gmv_df_v2)</span><br><span class="line">print(np.asscalar(stdev_gmv_v2))</span><br></pre></td></tr></table></figure>
<p>Both methods yield the following optimal weights.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># GMV weights</span></span><br><span class="line">       AAPL        KO       DIS       XOM      JPM       MCD       WMT</span><br><span class="line"><span class="number">0</span>  <span class="number">0.038996</span>  <span class="number">0.122932</span> <span class="number">-0.014062</span>  <span class="number">0.428003</span>  <span class="number">0.18088</span>  <span class="number">0.128547</span>  <span class="number">0.114705</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># GMV standard deviation</span></span><br><span class="line"><span class="number">0.10759482208087719</span></span><br></pre></td></tr></table></figure>
<h2 id="Efficient-Portfolio"><a href="#Efficient-Portfolio" class="headerlink" title="Efficient Portfolio"></a>Efficient Portfolio</h2><p>To find an efficient portfolio other than GMV, we face a dual optimization problem. The primary problem finds highest return given a certain risk level $\sigma_o$</p>
<p>$$<br>\begin{matrix}<br>\max &amp; \mu_p=w^T\mu \\<br>s.t. &amp; \sigma_p^2=w^T\Sigma w=\sigma_{o}\<br>     &amp; w^T\mathbf{1}=1<br>\end{matrix}                \tag{3.1}<br>$$</p>
<p>while its dual finds the minimum risk given a certain return level $\mu_o$</p>
<p>$$<br>\begin{matrix}<br>\min &amp; \sigma_p^2=w^T\Sigma w \\<br>s.t. &amp; \mu_p=w^T\mu=\mu_{o} \\<br>     &amp; w^T\mathbf{1} = 1<br>\end{matrix}                \tag{3.2}<br>$$</p>
<p>It is more common to solve the dual minimization problem (3.2), whose Lagrangian function is given by</p>
<p>$$<br>L(w,\lambda_1, \lambda_2)=w^T\Sigma w + \lambda_1(w^T\mu-\mu_o) + \lambda_2(w^T\mathbf{1}-1)<br>\tag{3.3}<br>$$</p>
<p>and its first order condition is</p>
<p>$$<br>\begin{matrix}<br>2\Sigma w + \lambda_1\mu + \lambda_2 \mathbf{1} &amp;=&amp; 0 \\<br>w^T \mu-\mu_o &amp;=&amp; 0 \\<br>w^T\mathbf{1} - 1 &amp;=&amp; 0<br>\end{matrix}            \tag{3.4}<br>$$</p>
<p>Similarily, from the first equation we have</p>
<p>$$<br>w=-\frac{1}{2}\lambda_1\Sigma^{-1}\mu-\frac{1}{2}\lambda_2\Sigma^{-1}\mathbf{1}<br>\tag{3.5}<br>$$</p>
<p>and put it into the last two equations to get the matrix format of $\lambda=[\lambda_1;\lambda_2]$ as</p>
<p>$$<br>-\frac{1}{2}\begin{pmatrix} \mu^T\Sigma^{-1}\mu &amp; \mu^T\Sigma^{-1}\mathbf{1} \\ \mu^T\Sigma^{-1}\mathbf{1} &amp; \mathbf{1}^T\Sigma^{-1}\mathbf{1} \end{pmatrix} \begin{pmatrix}\lambda_1 \\ \lambda_2\end{pmatrix} = \begin{pmatrix}\mu_o \\ 1\end{pmatrix}<br>\tag{3.6}<br>$$</p>
<p>which yields</p>
<p>$$<br>\begin{matrix}<br>\lambda &amp;=&amp;\begin{pmatrix}\lambda_1 \\ \lambda_2 \end{pmatrix}=-2A^{-1}y  \\<br>A &amp;=&amp; \begin{pmatrix} \mu^T\Sigma^{-1}\mu &amp; \mu^T\Sigma^{-1}\mathbf{1} \\ \mu^T\Sigma^{-1}\mathbf{1} &amp; \mathbf{1}^T\Sigma^{-1}\mathbf{1} \end{pmatrix} \\<br>y &amp;=&amp; \begin{pmatrix}\mu_o \\ 1\end{pmatrix}<br>\end{matrix}<br>\tag{3.7}<br>$$</p>
<p>In the end, substitute $\lambda$ back to solve for the optimal w as</p>
<p>$$<br>\begin{matrix}<br>w^*&amp;=&amp;-\frac{1}{2}\Sigma^{-1}B\lambda=\Sigma^{-1}BA^{-1}y \\<br>B&amp;=&amp;[\mu;\mathbf{1}]<br>\end{matrix}<br>\tag{3.8}<br>$$</p>
<p>The following code finds minimum risk portfolio with a given return level $\mu_o=max(\mu)$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maximum return -- closed form</span></span><br><span class="line">mu_o = np.asscalar(np.max(hist_mean))   <span class="comment"># MCD</span></span><br><span class="line">A = np.matrix([[np.asscalar(np.dot(hist_mean.T,np.dot(hist_cov_inv,hist_mean))),</span><br><span class="line">                np.asscalar(np.dot(hist_mean.T,np.dot(hist_cov_inv,one_vec)))],</span><br><span class="line">               [np.asscalar(np.dot(hist_mean.T,np.dot(hist_cov_inv,one_vec))),</span><br><span class="line">                np.asscalar(np.dot(one_vec.T,np.dot(hist_cov_inv,one_vec)))]])</span><br><span class="line">B = np.hstack([np.array(hist_mean),one_vec.reshape(len(assets),<span class="number">1</span>)])</span><br><span class="line">y = np.matrix([mu_o, <span class="number">1</span>]).T</span><br><span class="line">w_max_ret = np.dot(np.dot(np.dot(hist_cov_inv, B),  np.linalg.inv(A)),y)</span><br><span class="line">w_max_ret_df = pd.DataFrame(w_max_ret).T</span><br><span class="line">w_max_ret_df.columns = assets</span><br><span class="line">print(w_max_ret_df)</span><br></pre></td></tr></table></figure>
<p>As an alternative, we can solve numerically<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maximum return -- numerical</span></span><br><span class="line">P = matrix(hist_cov.as_matrix())</span><br><span class="line">q = matrix(np.zeros((len(assets), <span class="number">1</span>)))</span><br><span class="line">A = matrix(np.hstack([np.array(hist_mean),one_vec.reshape(len(assets),<span class="number">1</span>)]).transpose())</span><br><span class="line">b = matrix([mu_o,<span class="number">1</span>])</span><br><span class="line">w_max_ret_v2 = np.array(solvers.qp(P, q, A=A, b=b)[<span class="string">'x'</span>])</span><br><span class="line">w_max_ret_df_v2 = pd.DataFrame(w_max_ret_v2).transpose()</span><br><span class="line">w_max_ret_df_v2.columns = assets</span><br><span class="line">print(w_max_ret_df_v2)</span><br></pre></td></tr></table></figure></p>
<p>Both methods yield the following optimal weights.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># max return weights</span></span><br><span class="line">       AAPL        KO       DIS       XOM       JPM       MCD       WMT</span><br><span class="line"><span class="number">0</span>  <span class="number">0.097223</span> <span class="number">-0.010082</span>  <span class="number">0.257571</span>  <span class="number">0.183309</span>  <span class="number">0.647928</span>  <span class="number">0.059439</span> <span class="number">-0.235389</span></span><br></pre></td></tr></table></figure>
<h2 id="Efficient-Frontier"><a href="#Efficient-Frontier" class="headerlink" title="Efficient Frontier"></a>Efficient Frontier</h2><p>The previous section finds the minimum risk portfolio for a given return level. When we traverse all possible return levels, we get a set of optimal portfolios known as efficient frontier.</p>
<p>Alternatively, accordingly to <a href="https://en.wikipedia.org/wiki/Modern_portfolio_theory#Two_mutual_fund_theorem" target="_blank" rel="noopener">Two_mutual_fund_theorem</a>, it turns out we can construct the efficient frontier as a linear combination of the previous two portfolios, GMV and maximum return.</p>
<p>The code is similar to previous section except for a loop to traverse N target returns.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># efficient frontier</span></span><br><span class="line">N = <span class="number">100</span></span><br><span class="line">ef_left = np.asscalar(min(hist_mean.as_matrix()))          <span class="comment"># minimum return</span></span><br><span class="line">ef_right = np.asscalar(max(hist_mean.as_matrix()))         <span class="comment"># maximum return</span></span><br><span class="line">target_returns = np.linspace(ef_left, ef_right, N)         <span class="comment"># N target returns</span></span><br><span class="line">optimal_weights = [ solvers.qp(P, q, A=A, b=matrix([t,<span class="number">1</span>]))[<span class="string">'x'</span>] <span class="keyword">for</span> t <span class="keyword">in</span> target_returns ]    <span class="comment"># QP solver</span></span><br><span class="line">ef_returns = [ np.asscalar(np.dot(w.T, hist_mean.as_matrix())*<span class="number">250</span>) <span class="keyword">for</span> w <span class="keyword">in</span> optimal_weights ]         <span class="comment">#a nnualized</span></span><br><span class="line">ef_risks = [ np.asscalar(np.sqrt(np.dot(w.T, np.dot(hist_cov, w)) * <span class="number">250</span>)) <span class="keyword">for</span> w <span class="keyword">in</span> optimal_weights ]</span><br><span class="line"></span><br><span class="line">plt.plot(port_stdevs, port_returns, <span class="string">'o'</span>, markersize=<span class="number">6</span>, label=<span class="string">'Candidate Market Portfolio'</span>)</span><br><span class="line">plt.plot(ef_risks, ef_returns, <span class="string">'y-o'</span>, color=<span class="string">'green'</span>, markersize=<span class="number">8</span>, label=<span class="string">'Efficient Frontier'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Expected Volatility'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Expected Return'</span>)</span><br><span class="line">plt.title(<span class="string">'Efficient Frontier and Candidate Portfolios'</span>)</span><br><span class="line">plt.legend(loc=<span class="string">'best'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/portfolio-management-one/efficient_frontier.png" title="Efficient Frontier">
<p>We can visualize the weight allocation transition matrix of efficient portfolios from low returns to high returns.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">transition_data = pd.DataFrame(optimal_weights)</span><br><span class="line">transition_data.columns = assets</span><br><span class="line">plt.stackplot(range(<span class="number">50</span>), transition_data.iloc[:<span class="number">50</span>,:].T, labels=assets)             <span class="comment"># the other half has negative weights</span></span><br><span class="line">plt.legend(loc=<span class="string">'upper left'</span>)</span><br><span class="line">plt.margins(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">plt.title(<span class="string">'Allocation Transition Matrix'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/portfolio-management-one/allocation_transition.png" title="Allocation Transition">
<p>The transition figure tells us that for low returns it suffices to hold only five stocks. As we demand higher and higher returns, we start to hold JPM and then DIS.</p>
<h2 id="Tangency-Portfolio"><a href="#Tangency-Portfolio" class="headerlink" title="Tangency Portfolio"></a>Tangency Portfolio</h2><p>Another interesting portfolio is tangency portfolio that maximizes <a href="https://en.wikipedia.org/wiki/Sharpe_ratio" target="_blank" rel="noopener">Sharpe Ratio</a>, one of the most popular measures for performance evaluation.</p>
<p>Denote risk free interest rate as $r_f$, tangency portfolio targets the following equation,</p>
<p>$$<br>\begin{matrix}<br>\max &amp; \frac{\mu_p-r_f}{\sigma_p} = \frac{w^T\mu-r_f}{(w^T\Sigma w)^{\frac{1}{2}}} \\<br>s.t. &amp; w^T\mathbf{1}=1<br>\end{matrix}<br>\tag{5.1}<br>$$</p>
<p>Because of the denominator, solve it directly via Lagrangian would be complicated. Fortunately we can be a bit creative and actually take advantage of the division format. Here is the intuitive approach. First, note that the ojective function is invariant with respect to leverage. In other words, it remains the same if we double the weight $w$. Therefore the contraint can be ignored as long as $w$ will be normalized in the end.</p>
<p>Secondly, if we knew the expected return $r_o$ of the tangent portfolio, it must satisfy the following:</p>
<p>$$<br>\begin{matrix}<br>\max &amp; w^T\Sigma w \\<br>s.t. &amp; w^T(\mu-r_f\mathbf{1})=r_o<br>\end{matrix}<br>\tag{5.2}<br>$$</p>
<p>Solving this similarily to the previous section, it gives</p>
<p>$$<br>w=\frac{r_0}{(\mu-r_f\mathbf{1})^T\Sigma^{-1}(\mu-r_f\mathbf{1})}(\Sigma^{-1}(\mu-r_f\mathbf{1}))<br>\tag{5.3}<br>$$</p>
<p>By normalizing it, the arbitrary target expected return $r_o$ actually goes away, leaving the optimal allocation as</p>
<p>$$<br>w^*=\frac{\Sigma^{-1}(\mu-r_f\mathbf{1})}{\mathbf{1}^T\Sigma^{-1}(\mu-r_f\mathbf{1})}<br>\tag{5.4}<br>$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maximum sharpe -- closed form</span></span><br><span class="line">r_f = <span class="number">0.01</span></span><br><span class="line">w_sharpe = np.dot(hist_cov_inv, hist_mean.as_matrix()-r_f/<span class="number">250</span>) / np.dot(one_vec, np.dot(hist_cov_inv, hist_mean.as_matrix()-r_f/<span class="number">250</span>))</span><br><span class="line">w_sharpe_df = pd.DataFrame(w_sharpe).T</span><br><span class="line">w_sharpe_df.columns = assets</span><br><span class="line">mu_sharpe = np.dot(w_sharpe.T, hist_mean.as_matrix()) * <span class="number">250</span></span><br><span class="line">stdev_sharpe = np.sqrt(np.dot(w_sharpe.T, np.dot(hist_cov, w_sharpe))) * np.sqrt(<span class="number">250</span>)</span><br><span class="line">sharpe_ratio = (mu_sharpe-r_f)/stdev_sharpe</span><br><span class="line">print(w_sharpe_df)</span><br><span class="line">print(mu_sharpe)</span><br><span class="line">print(stdev_sharpe)</span><br><span class="line">print(sharpe_ratio)</span><br></pre></td></tr></table></figure>
<p>Alternatively, we can use scipy package to solve numerically equation (5.1)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> minimize</span><br><span class="line"></span><br><span class="line">fun = <span class="keyword">lambda</span> w: <span class="number">-1</span> * np.dot(w.T, hist_mean.as_matrix()*<span class="number">250</span>-r_f) / np.sqrt(np.dot(w.T, np.dot(hist_cov*<span class="number">250</span>, w)))</span><br><span class="line">cons = (&#123;<span class="string">'type'</span>: <span class="string">'eq'</span>, <span class="string">'fun'</span>: <span class="keyword">lambda</span> w:  np.dot(w.T, one_vec)<span class="number">-1</span>&#125;)</span><br><span class="line">res = minimize(fun, w_gmv, method=<span class="string">'SLSQP'</span>, constraints=cons)</span><br><span class="line">w_sharpe_v2 = res[<span class="string">'x'</span>]</span><br><span class="line">w_sharpe_v2_df = pd.DataFrame(w_sharpe_v2).T</span><br><span class="line">w_sharpe_v2_df.columns = assets</span><br><span class="line">mu_sharpe_v2 = np.dot(w_sharpe_v2.T, hist_mean.as_matrix()) * <span class="number">250</span></span><br><span class="line">stdev_sharpe_v2 = np.sqrt(np.dot(w_sharpe_v2.T, np.dot(hist_cov, w_sharpe_v2))) * np.sqrt(<span class="number">250</span>)</span><br><span class="line">sharpe_ratio_v2 = (mu_sharpe-r_f)/stdev_sharpe</span><br><span class="line">print(w_sharpe_v2_df)</span><br><span class="line">print(mu_sharpe_v2)</span><br><span class="line">print(stdev_sharpe_v2)</span><br><span class="line">print(sharpe_ratio_v2)</span><br></pre></td></tr></table></figure>
<p>Again they yield the same weights and sharpe ratio.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># optimal weights</span></span><br><span class="line">       AAPL       KO       DIS       XOM      JPM       MCD       WMT</span><br><span class="line"><span class="number">0</span>  <span class="number">0.180333</span> <span class="number">-0.20005</span>  <span class="number">0.645626</span> <span class="number">-0.166332</span>  <span class="number">1.31512</span> <span class="number">-0.039335</span> <span class="number">-0.735362</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># maximum sharpe</span></span><br><span class="line">[ <span class="number">1.66390903</span>]</span><br></pre></td></tr></table></figure>
<p>We will revisit the tangible portfolio in the future section of <a href="https://en.wikipedia.org/wiki/Capital_asset_pricing_model" target="_blank" rel="noopener">CAPM</a>. The figures will make more sense once no short sale constraint is added.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://faculty.chicagobooth.edu/john.cochrane/teaching/asset_pricing.htm" target="_blank" rel="noopener">Asset Pricing – John Cochrane</a></li>
<li><a href="https://www.packtpub.com/big-data-and-business-intelligence/python-finance-second-edition" target="_blank" rel="noopener">Python for Finance Second Edition – Yuxing Yan</a></li>
<li><a href="https://systematicinvestor.wordpress.com/2013/03/22/maximum-sharpe-portfolio/" target="_blank" rel="noopener">Maximum Sharpe Portfolio in R – Michael Kapler</a></li>
</ul>

      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    Letian Wang
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="https://letianzj.github.io/portfolio-management-one" title="Portfolio Management One -- Optimization Basics">https://letianzj.github.io/portfolio-management-one</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Systematic-Investment/" rel="tag"># Systematic Investment</a>
          
            <a href="/tags/Portfolio-Management/" rel="tag"># Portfolio Management</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/value-at-risk-one" rel="prev" title="Value at Risk">
                Value at Risk <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="Letian Wang" />
            
              <p class="site-author-name" itemprop="name">Letian Wang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/letianzj" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:letian.zj@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.linkedin.com/in/letian-wang-phd-cfa-frm-75b53312/" target="_blank" title="Linkedin">
                      
                        <i class="fa fa-fw fa-linkedin"></i>Linkedin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Global-Minimum-Variance-GMV"><span class="nav-number">2.</span> <span class="nav-text">Global Minimum Variance (GMV)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Efficient-Portfolio"><span class="nav-number">3.</span> <span class="nav-text">Efficient Portfolio</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Efficient-Frontier"><span class="nav-number">4.</span> <span class="nav-text">Efficient Frontier</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tangency-Portfolio"><span class="nav-number">5.</span> <span class="nav-text">Tangency Portfolio</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">6.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Letian Wang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" href="http://hexo.io" rel="external nofollow">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-letianzj-github-io.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://letianzj.github.io/portfolio-management-one';
          this.page.identifier = 'portfolio-management-one';
          this.page.title = 'Portfolio Management One -- Optimization Basics';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://https-letianzj-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
